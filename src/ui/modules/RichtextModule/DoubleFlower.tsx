'use client'

import { useInView } from '@/lib/useInView'
import { useIsMobile } from '@/lib/useIsMobile'
import { cn } from '@/lib/utils'
import css from '@/ui/animations/FadeInSection/fadeinsection.module.css'

import { PortableTextMarkComponentProps } from 'next-sanity'

const DoubleFlower = ({ children }: PortableTextMarkComponentProps<any>) => {
	const isMobile = useIsMobile()
	const { isInView, ref } = useInView(1)

	return (
		<span ref={ref} className="relative inline-block max-sm:ml-7">
			<div
				style={
					{
						'--x': isMobile ? '-100PX' : '-200px',
						'--y': '0px',
					} as React.CSSProperties
				}
				className={cn(
					'flowers absolute -top-4 -left-12 flex h-[2.5rem] w-[1.8125rem] flex-col justify-between sm:-left-20 sm:h-[3.5rem] sm:w-[2.8125rem]',
					css.fadeinsection,
					isInView ? css.isvisible : null,
				)}
			>
				<div className="bigflo h-[14px] w-[14px] self-start sm:h-[20px] sm:w-[20px]">
					<svg
						viewBox="0 0 20 20"
						fill="none"
						xmlns="http://www.w3.org/2000/svg"
					>
						<path
							d="M9.66878 2.63286C9.70693 3.35711 9.85934 7.08697 9.93077 8.86136C8.74578 7.06817 5.88604 5.83523 3.89164 5.43568C1.89724 5.03613 0.436184 6.15778 0.177764 6.7189C-0.0806563 7.28001 -0.289625 8.51106 1.55055 10.1055C3.02269 11.381 6.4196 11.3638 7.93404 11.1958C6.94352 11.7202 4.62611 13.0695 3.28067 14.2709C1.59886 15.7726 2.00917 16.7505 2.09806 17.0041C2.18695 17.2576 2.72382 18.3081 4.57987 17.7842C6.06472 17.365 7.97469 15.4627 8.74406 14.5639C8.33495 15.8492 9.32981 18.7829 10.3971 19.3267C11.4643 19.8705 13.753 19.7633 14.7114 17.8809C15.478 16.375 14.0999 13.8611 13.315 12.7924C13.835 12.8651 15.0094 12.9998 15.5473 12.9567C16.2195 12.9028 19.6956 11.8548 19.8227 9.42873C19.9498 7.00265 17.8477 6.44008 16.0688 6.36657C14.6456 6.30775 13.1447 7.25798 12.5721 7.74044C12.6247 7.18524 12.7275 5.90463 12.7181 5.22385C12.7063 4.37288 12.1459 1.62047 10.9332 1.09466C9.72056 0.568853 9.62109 1.72755 9.66878 2.63286Z"
							fill="#FE6641"
						/>
					</svg>
				</div>
				<div className="littleflo h-[12px] w-[11px] self-end sm:h-[18px] sm:w-[17px]">
					<svg
						viewBox="0 0 17 18"
						fill="none"
						xmlns="http://www.w3.org/2000/svg"
					>
						<path
							d="M4.78681 4.45144C5.15514 4.82551 7.02817 6.7731 7.91865 7.70014C6.41585 7.29747 4.27465 8.00226 3.00232 8.74317C1.73 9.48409 1.47686 10.7931 1.60621 11.2212C1.73556 11.6492 2.21329 12.4165 3.97564 12.397C5.38553 12.3814 7.21764 10.7414 7.95745 9.92337C7.67257 10.683 7.06473 12.5264 6.9125 13.8232C6.72222 15.4441 7.41397 15.777 7.58383 15.8717C7.7537 15.9664 8.54882 16.2778 9.30289 15.1029C9.90615 14.1631 10.0277 12.2156 10.0131 11.3593C10.4085 12.252 12.3557 13.3639 13.195 13.1462C14.0343 12.9285 15.2228 11.7718 14.8384 10.2919C14.5309 9.10799 12.5775 8.40755 11.6392 8.20532C11.9558 7.99512 12.6568 7.50433 12.9274 7.2228C13.2658 6.87089 14.646 4.63449 13.5502 3.25906C12.4545 1.88363 11.0456 2.58793 10.0465 3.40206C9.24723 4.05336 8.8902 5.28867 8.81159 5.82492C8.57356 5.49888 8.01452 4.75572 7.68262 4.39141C7.26774 3.93602 5.64286 2.71385 4.73346 3.01109C3.82407 3.30834 4.32639 3.98385 4.78681 4.45144Z"
							fill="#FE6641"
						/>
					</svg>
				</div>
			</div>
			{children}
		</span>
	)
}

export default DoubleFlower
